{% extends '@Evenement/Evenement_Views/base_evenement.html.twig' %}

   {% block stylesheets %}
       <style>
           .aff {
               height: 300px !important;
               width: 300px !important;
           }

           /* carousel style */
           .carousel-fade .carousel-inner .item {
               opacity: 0;
               transition-property: opacity;

           }

           .carousel-fade .carousel-inner .active {
               opacity: 1;
           }

           .carousel-fade .carousel-inner .active.left,
           .carousel-fade .carousel-inner .active.right {
               left: 0;
               opacity: 0;
               z-index: 1;
           }

           .carousel-fade .carousel-inner .next.left,
           .carousel-fade .carousel-inner .prev.right {
               opacity: 1;
           }

           .carousel-fade .carousel-control {
               z-index: 2;
           }

           @media all and (transform-3d), (-webkit-transform-3d) {
               .carousel-fade .carousel-inner > .item.next,
               .carousel-fade .carousel-inner > .item.active.right {
                   opacity: 0;
                   -webkit-transform: translate3d(0, 0, 0);
                   transform: translate3d(0, 0, 0);
               }

               .carousel-fade .carousel-inner > .item.prev,
               .carousel-fade .carousel-inner > .item.active.left {
                   opacity: 0;
                   -webkit-transform: translate3d(0, 0, 0);
                   transform: translate3d(0, 0, 0);
               }

               .carousel-fade .carousel-inner > .item.next.left,
               .carousel-fade .carousel-inner > .item.prev.right,
               .carousel-fade .carousel-inner > .item.active {
                   opacity: 1;
                   -webkit-transform: translate3d(0, 0, 0);
                   transform: translate3d(0, 0, 0);
               }
           }

           .carousel-caption {
               text-shadow: 0 1px 4px rgba(0, 0, 0, .9);
               font-size: 17px
           }

           .carousel-caption h3 {
               font-size: 30px;
               font-family: 'Lato', sans-serif;
           }

           html,
           body,
           .carousel,
           .carousel-inner,
           .carousel-inner .item {
               height: 100%;
           }

           .item:nth-child(1) {
               background-size: cover;
               background-position: center center;
               background-repeat: no-repeat;
           }

           .item:nth-child(2) {
               background-size: cover;
               background-position: center center;
               background-repeat: no-repeat;
           }

           .item:nth-child(3) {
               background-size: cover;
               background-position: center center;
               background-repeat: no-repeat;
           }

           /* end caorusel style */

           /* hover effect */

           .hovereffect {
               width: 100%;
               height: 100%;
               float: left;
               overflow: hidden;
               position: relative;
               text-align: center;
               cursor: default;
           }

           .hovereffect .overlay {
               width: 100%;
               height: 100%;
               position: absolute;
               overflow: hidden;
               top: 0;
               left: 0;
               opacity: 0;
               background-color: rgba(0, 0, 0, 0.5);
               -webkit-transition: all .4s ease-in-out;
               transition: all .4s ease-in-out
           }

           .hovereffect img {
               display: block;
               position: relative;
               -webkit-transition: all .4s linear;
               transition: all .4s linear;
           }

           .hovereffect h2 {
               text-transform: uppercase;
               color: #fff;
               text-align: center;
               position: relative;
               font-size: 17px;
               background: rgba(0, 0, 0, 0.6);
               -webkit-transform: translatey(-100px);
               -ms-transform: translatey(-100px);
               transform: translatey(-100px);
               -webkit-transition: all .2s ease-in-out;
               transition: all .2s ease-in-out;
               padding: 10px;
           }

           .hovereffect a.info {
               text-decoration: none;
               display: inline-block;
               text-transform: uppercase;
               color: #fff;
               border: 1px solid #fff;
               background-color: transparent;
               opacity: 0;
               filter: alpha(opacity=0);
               -webkit-transition: all .2s ease-in-out;
               transition: all .2s ease-in-out;
               margin: 50px 0 0;
               padding: 7px 14px;
           }

           .hovereffect a.info:hover {
               box-shadow: 0 0 5px #fff;
           }

           .hovereffect:hover img {
               -ms-transform: scale(1.2);
               -webkit-transform: scale(1.2);
               transform: scale(1.2);
           }

           .hovereffect:hover .overlay {
               opacity: 1;
               filter: alpha(opacity=100);
           }

           .hovereffect:hover h2, .hovereffect:hover a.info {
               opacity: 1;
               filter: alpha(opacity=100);
               -ms-transform: translatey(0);
               -webkit-transform: translatey(0);
               transform: translatey(0);
           }

           .hovereffect:hover a.info {
               -webkit-transition-delay: .2s;
               transition-delay: .2s;
           }

           /* end hover style */
           /* <a> style */
           #acount-btn {
               box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 3px 10px 0 rgba(0, 0, 0, 0.19);
               display: inline-block;
               border-radius: .25rem;
               background: #114E8E;
               padding: 0.6em 2em;
               font-size: 1em;
               color: #ffffff;
               text-decoration: none;
               font-weight: 500;
               border: none;
               outline: none;
               margin-bottom: 1em;
               transition: 0.5s all;
               -webkit-transition: 0.5s all;
               -moz-transition: 0.5s all;
               -o-transition: 0.5s all;
           }

           #acount-btn:hover {
               background: #114E8E;
               color: #fff;
               text-decoration: none;
           }

           /* end <a> style */

           /** cloud css */
           #banner {
               background-image: linear-gradient(120deg, #91C4FF 0%, #F0F7FF 87%);
               position: relative;
               width: 100%;
               height: 500px;
           }

           #cloud-scroll {
                   background: url(http://9a2e1a2047765d2a004e-e6d2db425d8d4f2619e5cee56a48bcef.r55.cf2.rackcdn.com/clouds.png) repeat-x;
               top: 0;
               left: 0;
               width: 100%;
               height: 100%;
               background-size: cover;
               position: absolute;
               -webkit-animation: 900000s backgroundScroll infinite linear;
               -moz-animation: 900000s backgroundScroll infinite linear;
               -o-animation: 900000s backgroundScroll infinite linear;
               -ms-animation: 900000s backgroundScroll infinite linear;
               animation: 900000s backgroundScroll infinite linear;
           }

           @-webkit-keyframes backgroundScroll {
               from {
                   background-position: 0 0;
               }
               to {
                   background-position: -99999999px 0;
               }
           }

           @keyframes backgroundScroll {
               from {
                   background-position: 0 0;
               }
               to {
                   background-position: -99999999px 0;
               }
           }

           #title {
               color: #114E8E;
               font-family: "Great Vibes", cursive;
               font-size: 165px;
               line-height: 160px;
               font-weight: normal;
               margin-bottom: 0px;
               margin-top: 40px;
               text-align: center;
               text-shadow: 0 1px 1px #fff;
           }

           /**end cloud **/

           .map-box {
               background-color: #A3CCFF;
           }
       </style>
   {% endblock %}
{% block content %}



    <!-- Services Element -->

    <section class="services-elements section-padding">

        <div id="banner">
            <div id="cloud-scroll"></div>
            <div class="container">
                <div style='text-align:center;'>
                    <h1 class="infinite animated pulse delay-1s" id="title">Vivez le Meilleur</h1>
                </div>
            </div>

        </div>


        <div class="container">

            <div class="row">
                <div class="col-lg-10 col-lg-offset-1">
                    {% for i in evenements|reverse %}
                        <div class="col-12 col-md-6 col-lg-4">
                            <div class="single-event-area mb-30 hovereffect">
                                <div class="event-thumbnail">
                                    <img class="aff" src="{{ asset('Evenement/image/affiches/'~ i.Affiche ) }}">
                                    <div class="overlay">
                                        <h2>Date : {{ i.dateDebutEvenement|date('Y-m-d H:m') }}</h2>
                                        {% if i.capaciteEvenement == 0 %}
                                            <a class="btn btn-danger" href="{{ path('details_evenement',{'id':i.id}) }}"> Evenemement est plain </a>
                                        {% else %}
                                            <a class="info" href="{{ path('details_evenement',{'id':i.id}) }}"> Voir
                                                l'événement </a>
                                        {% endif %}
                                    </div>
                                </div>
                                <div class="event-text">
                                    <h4>{{ i.nomEvenement }}</h4>
                                    <div class="event-meta-data">
                                        <a href="#" class="event-place">capacité : {{ i.capaciteEvenement }}</a>
                                        <a href="#" class="event-date">{{ i.dateDebutEvenement|date('Y-m-d H:m') }}</a>
                                    </div>
                                    <a href="#" class="btn see-more-btn" data-toggle="modal"
                                       data-target="#myModal{{ i.id }}">See Event</a>
                                </div>
                            </div>
                        </div>
                        <!-- Modal -->
                        <div class="modal fade" id="myModal{{ i.id }}" role="dialog">
                            <div class="modal-dialog">
                                <!-- Modal content-->
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h4 class="modal-title">  {{ i.nomEvenement }}  </h4>

                                    </div>
                                    <div class="modal-body">

                                        <p>
                                            vous être le bienvenu à l'évenement {{ i.nomEvenement }} qui aura lieu à
                                            {{ i.lieuEvenement }} du {{ i.dateDebutEvenement|date('Y-m-d') }}
                                            au {{ i.dateFinEvenement|date('Y-m-d') }}
                                        <ul>
                                            <li>Duree : {{ i.dureeEvenement }}</li>
                                            <li>Capacite : {{ i.capaciteEvenement }}</li>
                                        </ul>
                                        Descriptions :
                                        {{ i.descriptionEvenement }}
                                        </p>

                                    </div>
                                    <div class="modal-footer">
                                        <a id="acount-btn" onclick="{{ path('envoyer_ticket') }}" data-toggle="collapse"
                                           href="#collapseExample{{ i.id }}" role="button" aria-expanded="false"
                                           aria-controls="collapseExample"> Lieu </a>
                                        <a id="acount-btn" href="" data-dismiss="modal">Close </a>
                                        <div class="collapse" id="collapseExample{{ i.id }}">
                                            <div class="card card-body">
                                                <!-- boucle for pour récupérer l'email d'utilisateur connecté-->
                                                <div class="map-box">
                                                    <iframe width="100%" height="495" frameborder="0" scrolling="no"
                                                            marginheight="0" marginwidth="0"
                                                            src="https://maps.google.co.uk/maps?f=q&source=s_q&hl=en&geocode=&815&sspn=8.047465,13.666992&ie=UTF8&hq=&hnear=15+Springfield+Way,+Hythe+CT21+5SH,+United+Kingdom&t=m&z=14&ll=51.077429,1.121722&output=embed"></iframe>
                                                    {# <div id="map" style="height: 400px;width: 400px;"></div> #}
                                                </div>

                                            </div>
                                        </div>


                                    </div>
                                </div>

                            </div>
                        </div>
                        <!-- END Modal -->

                    {% endfor %}

                </div>
            </div>
        </div>
    </section><!-- /Services Element -->
    <!-- Carousel -->
    <!--
    <div style='text-align:center;'>
    <h3 style='text-align: center;margin: 55px 0px;border-bottom: 2px solid #666; display:inline-block;padding-bottom:10px'>
    Vivez le meilleur</h3>
    </div>
    -->
    <br>
    <div id="carouselFade" class="carousel slide carousel-fade" data-ride="carousel">

        <!-- Wrapper for slides -->
        <div class="carousel-inner" role="listbox">
            <div class="item active">
                <img src="{{ asset('Evenement/image/carousel/7.png') }}" alt="">
                <div class="carousel-caption">
                </div>
            </div>
            <div class="item">
                <img src="{{ asset('Evenement/image/carousel/2.jpg') }}" alt="">
                <div class="carousel-caption">
                </div>
            </div>
            <div class="item">
                <img src="{{ asset('Evenement/image/carousel/1.jpg') }}" alt="">
                <div class="carousel-caption">
                </div>
            </div>
            <div class="item">
                <img src="{{ asset('Evenement/image/carousel/3.jpg') }}" alt="">
                <div class="carousel-caption">
                </div>
            </div>
            <div class="item">
                <img src="{{ asset('Evenement/image/carousel/5.jpg') }}" alt="">
                <div class="carousel-caption">
                </div>
            </div>
            <div class="item">
                <img src="{{ asset('Evenement/image/carousel/6.jpg') }}" alt="">
                <div class="carousel-caption">
                </div>
            </div>
        </div>
    </div>


    <!-- END Carousel -->

{% endblock %}

{% block javascripts %}
    <script>
        $('#carouselFade').carousel();

        /** title animated **/
        $(function () {
            $('.repeat').click(function () {
                var classes = $(this).parent().attr('class');
                $(this).parent().attr('class', 'animate');
                var indicator = $(this);
                setTimeout(function () {
                    $(indicator).parent().addClass(classes);
                }, 20);
            });
        });
        /** end title animated **/

    </script>

    <script>

        function initMap() {
            var myLatLng = {lat: 33.8439408, lng: 9.400138};

            var map = new google.maps.Map(document.getElementById('map'), {
                zoom: 6,
                center: myLatLng
            });

            var marker = new google.maps.Marker({
                position: myLatLng,
                map: map,
                title: 'Hello World!'
            });
        }
    </script>
    <script async defer
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB8TiyvcAWOHiP6mssvWPqQeMiDMaiSizI&callback=initMap">
    </script>
{% endblock %}